<template>
  <div class="home-page">
    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero-section">
      <div class="hero-content">
        <h1 class="hero-title">æ¬¢è¿æ¥åˆ°ç™¾åº¦è´´å§</h1>
        <p class="hero-subtitle">å‘ç°å…´è¶£ï¼Œç»“äº¤æœ‹å‹ï¼Œåˆ†äº«ç”Ÿæ´»</p>
        
        <!-- React æœç´¢ç»„ä»¶ -->
        <SearchBox 
          :placeholder="'æœç´¢è´´å§ã€å¸–å­ã€ç”¨æˆ·...'"
          @search="handleSearch"
        />
      </div>
    </section>
    
    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
      <!-- çƒ­é—¨è´´å§ -->
      <section class="hot-tiebas">
        <div class="section-header">
          <h2 class="section-title">ğŸ”¥ çƒ­é—¨è´´å§</h2>
          <router-link to="/search" class="view-all">æŸ¥çœ‹å…¨éƒ¨</router-link>
        </div>
        
        <!-- Vue è´´å§åˆ—è¡¨ç»„ä»¶ -->
        <TiebaList :tiebas="hotTiebas" />
      </section>
      
      <!-- çƒ­é—¨å¸–å­ -->
      <section class="hot-posts">
        <div class="section-header">
          <h2 class="section-title">ğŸ“ çƒ­é—¨å¸–å­</h2>
          <router-link to="/search" class="view-all">æŸ¥çœ‹å…¨éƒ¨</router-link>
        </div>
        
        <!-- React å¸–å­åˆ—è¡¨ç»„ä»¶ -->
        <PostList :posts="hotPosts" />
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import SearchBox from '@/react-components/SearchBox.jsx'
import TiebaList from '@/vue-components/TiebaList.vue'
import PostList from '@/react-components/PostList.jsx'

// æ¨¡æ‹Ÿæ•°æ®
const hotTiebas = ref([
  { id: 1, name: 'æ¸¸æˆ', avatar: 'ğŸ®', memberCount: 125000, description: 'æ¸¸æˆçˆ±å¥½è€…çš„èšé›†åœ°' },
  { id: 2, name: 'åŠ¨æ¼«', avatar: 'ğŸ“º', memberCount: 98000, description: 'åŠ¨æ¼«è®¨è®ºä¸åˆ†äº«' },
  { id: 3, name: 'éŸ³ä¹', avatar: 'ğŸµ', memberCount: 75000, description: 'éŸ³ä¹äº¤æµå¹³å°' },
  { id: 4, name: 'ä½“è‚²', avatar: 'âš½', memberCount: 112000, description: 'ä½“è‚²èµ›äº‹è®¨è®º' },
  { id: 5, name: 'ç¾é£Ÿ', avatar: 'ğŸ”', memberCount: 68000, description: 'ç¾é£Ÿåˆ†äº«ä¸åˆ¶ä½œ' },
  { id: 6, name: 'ç§‘æŠ€', avatar: 'ğŸ’»', memberCount: 89000, description: 'ç§‘æŠ€å‰æ²¿è®¨è®º' }
])

const hotPosts = ref([
  { 
    id: 1, 
    title: 'å¤§å®¶æœ€è¿‘åœ¨ç©ä»€ä¹ˆæ¸¸æˆï¼Ÿæ¨èä¸€ä¸‹', 
    content: 'æœ€è¿‘æ¸¸æˆè’äº†ï¼Œæ±‚æ¨èä¸€äº›å¥½ç©çš„æ¸¸æˆ...',
    author: { name: 'æ¸¸æˆç©å®¶', avatar: 'ğŸ‘¤' },
    tieba: 'æ¸¸æˆ',
    replyCount: 156,
    likeCount: 89,
    createTime: '2å°æ—¶å‰'
  },
  { 
    id: 2, 
    title: 'æ–°ç•ªæ¨èï¼šè¿™éƒ¨åŠ¨æ¼«çœŸçš„ä¸é”™ï¼', 
    content: 'æœ€è¿‘å‘ç°ä¸€éƒ¨å®è—åŠ¨æ¼«ï¼Œå¼ºçƒˆæ¨èç»™å¤§å®¶...',
    author: { name: 'åŠ¨æ¼«è¿·', avatar: 'ğŸ‘¤' },
    tieba: 'åŠ¨æ¼«',
    replyCount: 234,
    likeCount: 156,
    createTime: '5å°æ—¶å‰'
  },
  { 
    id: 3, 
    title: 'åˆ†äº«ä¸€é“å®¶å¸¸èœçš„åšæ³•', 
    content: 'ä»Šå¤©åšäº†çº¢çƒ§è‚‰ï¼Œåˆ†äº«ä¸€ä¸‹åšæ³•...',
    author: { name: 'ç¾é£Ÿå®¶', avatar: 'ğŸ‘¤' },
    tieba: 'ç¾é£Ÿ',
    replyCount: 67,
    likeCount: 45,
    createTime: '1å¤©å‰'
  }
])

onMounted(() => {
  // æ¨¡æ‹Ÿæ•°æ®åŠ è½½
  console.log('ğŸ  é¦–é¡µæ•°æ®åŠ è½½å®Œæˆ')
})

const handleSearch = (query) => {
  console.log('æœç´¢å…³é”®è¯:', query)
  // è¿™é‡Œå¯ä»¥æ·»åŠ æœç´¢é€»è¾‘
}
</script>

<style scoped>
.home-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
}

.hero-section {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 80px 20px 60px;
  text-align: center;
}

.hero-title {
  font-size: 48px;
  font-weight: 700;
  margin-bottom: 16px;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.hero-subtitle {
  font-size: 20px;
  opacity: 0.9;
  margin-bottom: 40px;
}

.main-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px 20px;
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 40px;
}

.hot-tiebas,
.hot-posts {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid #f0f0f0;
}

.section-title {
  font-size: 24px;
  font-weight: 600;
  color: #333;
}

.view-all {
  color: #007AFF;
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
}

.view-all:hover {
  text-decoration: underline;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .hero-title {
    font-size: 32px;
  }
  
  .hero-subtitle {
    font-size: 16px;
  }
  
  .main-content {
    grid-template-columns: 1fr;
    gap: 24px;
    padding: 20px;
  }
  
  .section-title {
    font-size: 20px;
  }
}
</style>